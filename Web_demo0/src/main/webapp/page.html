<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>Sign Up</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="bg">
    <div class="module" id="module">
        <ul>
            <li class="tab activeTab"><input type="button" value="Register" class="button" onclick="showSignUp()"></li>
            <li class="tab"><input type="button" value="Log in" class="button" onclick="showLogIn()"></li>
        </ul>
        <form class="form" id="form">
            <input type="text" placeholder="Username" class="textbox"/>
            <input type="password" placeholder="Password" class="textbox"/>
            <input type="submit" value="Log In" id="submit"/>
        </form>
    </div>
</div>
</body>
<script>
    function createUser(){
        const xmlhttp = new XMLHttpRequest();   // new HttpRequest instance
        xmlhttp.open("POST", "http://localhost:8080/users");
        xmlhttp.setRequestHeader("Content-Type", "application/json");

        let username = document.getElementById("username");
        let firstName=document.getElementById("fname");
        let lastName=document.getElementById("lname");
        let email=document.getElementById("email");
        let phone=document.getElementById("phone");
        let password = document.getElementById("pass");
        let userRole = document.getElementById("role");
        let age = document.getElementById("age");
        let gender = document.getElementById("gender");

        var customerData={
            username:username.value,
            name:firstName.value,
            surname:lastName.value,
            email:email.value,
            phone:phone.value,
            password:password.value,
            role:userRole.value,
            age:age.value,
            gender:gender.value
        }

        username.value =""
        firstName.value=""
        lastName.value=""
        email.value=""
        phone.value=""
        password.value=""
        userRole.value=""
        age.value=""
        gender.value=""

        xmlhttp.send(JSON.stringify(customerData));
    }

    function showSignUp(){
        let display = document.getElementById("module")
        display.innerHTML = '<ul>\n' +
            '            <li class="tab activeTab"><input type="button" value="Register" class="button" onclick="showSignUp()"></li>\n' +
            '            <li class="tab"><input type="button" value="Log in" class="button" onclick="showLogIn()"></li>\n' +
            '        </ul>\n' +
            '        <form action="http://localhost:8080/users" method="post" class="form" id="form">\n'+
            '<input type="text" placeholder="First Name" class="textbox" id="fname"/>\n' +
            '            <input type="text" placeholder="Last Name" class="textbox" id="lname"/>\n' +
            '            <input type="email" placeholder="Email Address" class="textbox" id="email"/>\n' +
            '            <input type="number" name="" id="age" placeholder="Age" min="18" class="textbox">\n' +
            '            <input type="text" name="" placeholder="Username" id="username" class="textbox">\n' +
            '            <input type="tel" id="phone" placeholder="Phone Number" pattern="[0-9]{12}" class="textbox">\n' +
            '            <input type="text" name="" list="gender" placeholder="Gender" class="textbox">\n' +
            '            <datalist id="gender">\n' +
            '                <option>MALE</option>\n' +
            '                <option>FEMALE</option>\n' +
            '                <option>UNKNOWN</option>\n' +
            '            </datalist>\n' +
            '            <input type="email" name="" placeholder="Email" id="email" class="textbox">\n' +
            '            <input type="password" name="" placeholder="Password" id="pass" class="textbox">\n' +
            '            <input type="text" name="" list="role" placeholder="User Role" class="textbox">\n' +
            '            <datalist id="role">\n' +
            '                <option>ADMIN</option>\n' +
            '                <option>USER</option>\n' +
            '                <option>MODERATOR</option>\n' +
            '            </datalist>\n' +
            '            <input type="submit" value="Sign Up" id="submit" onclick="createUser()"/>\n'+
            '</form>'

    }

    function showLogIn(){
        let display = document.getElementById("form")
        display.innerHTML = '<form action="/login" class="form" id="form">\n'+
            '<input type="text" placeholder="Username" class="textbox" />\n'+
            '<input type="password" placeholder="Password" class="textbox" />\n'+
            '<input type="submit" value="Log In" id="submit"/>'+
            '</form>'
    }
</script>
</html>