<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="ISO-8859-1">
<title>Users</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
	<link th:href="@{/css/table.css}" rel="stylesheet" href="../static/css/table.css">
</head>
<body>
<div class="hero">
	<nav>
		<h2 class="logo">Users</h2>
		<ul>
			<li sec:authorize="isAuthenticated()"><a th:href="@{/}" class="link">Home</a></li>
			<li sec:authorize="isAuthenticated()"><a th:href="@{/logout}" id="logout">Logout</a></li>
		</ul>
	</nav>
</div>

<div class="table">
	<div class="table-header">
		<div>
			<a th:href = "@{/users/new}" class = "btn btn-primary btn-sm mb-3"> Add User</a>
		</div>
	</div>
	<div class="table-selection">
		<table>
			<thead>
			<tr>
				<th> First Name</th>
				<th> Last Name</th>
				<th> Email </th>
				<th> Username </th>
				<th>Phone Number</th>
				<th>Gender</th>
				<th>Role</th>
				<th> Actions </th>
			</tr>
			</thead>
			<tbody>
			<tr th:each = "user: ${users}">
				<td th:text = "${user.firstName}"></td>
				<td th:text = "${user.lastName}"></td>
				<td th:text = "${user.email}"></td>
				<td th:text = "${user.username}"></td>
				<td th:text = "${user.phoneNumber}"></td>
				<td th:text = "${user.gender}"></td>
				<td th:text = "${user.role}"></td>
				<td>
					<a th:href = "@{/users/edit/{id}(id=${user.username})}"
					   class = "btn btn-primary">Update</a>

					<a th:href = "@{/users/{id}(id=${user.username})}"
					   class = "btn btn-danger">Delete</a>

				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>
</body>
</html>